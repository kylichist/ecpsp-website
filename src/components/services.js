import React, {useState} from 'react'
import {AnimatePresence, motion} from 'framer-motion'
import './services.css'

const servicesData = [
    {
        title: 'Обследование и мониторинг технического состояния зданий и сооружений',
        details: [
            'Обследование оснований и фундаментов, ограждающих и несущих конструкций.',
            'Обследование температурно-влажностного режима',
            'Строительно-микологические исследования',
            'Поверочные расчеты основных несущих конструкций',
            'Определение фактической несущей способности несущих конструкций',
            'Выполнение архитектурно-строительных обмерных работ',
            'Выполнение визуального и инструментального освидетельствования несущих и ограждающих конструкций с анализом их текущего состояния, выявлением дефектов и повреждений.',
            'Откопка шурфов для освидетельствования типов и фактического состояния фундаментов',
            'Выполнение динамического зондирования',
            'Отбор образцов грунтов основания',
            'Лабораторное исследование грунта основания с предоставлением протоколов аккредитованной лаборатории',
            'Лабораторное определение фактической прочности бутовой кладки и раствора фундаментов зданий с предоставлением протоколов аккредитованной лаборатории',
            'Выполнение необходимой расчетно-графической части',
            'Выполнение фотофиксации обследуемых конструкций, дефектов и повреждений с составлением дефектной ведомости',
            'Выполнение геодезических работ (определение прогибов, кренов, отклонений)',
            'Определение толщины защитного лакокрасочного покрытия строительных конструкций',
            'Визуально-инструментальный контроль сварных соединений',
            'Ультразвуковой контроль качества сварных соединений',
            'Выполнение тепловизионной съемки',
            'Сбор нагрузок',
            'Определение фактической прочности бетона механическими методами неразрушающего контроля',
            'Определение прочности бетона методов отрыва со скалыванием',
            'Ультразвуковой метод определения прочности бетона',
            'Определение толщины защитного слоя бетона и расположения арматуры в железобетонных конструкциях магнитным методом',
            'Определение качества гидроизоляции методом сверхточной инструментальной дефектоскопии',
            'Измерение влажности пиломатериалов и изделий из древесины диэлькометрическим методов',
            'Выполнение вскрытий железобетонных конструкций для определения армирования',
            'Выполнение испытаний несущих конструкций бетоноскопом, посредством отражения радиоволн от границ раздела сред с различной диэлектрической проницаемостью',
            'Выполнение испытаний по определению фактического защитного слоя бетона и армирования неразрушающим способов, магнитным методов',
            'Выполнение анализа имеющейся проектной, рабочей, исполнительной, технической и иной документации по объекту обследования'
        ]
    },
    {title: 'Проектирование', details: []},
    {title: 'Капитальный ремонт', details: []},
    {title: 'Строительный контроль', details: []},
    {title: 'Технический надзор', details: []}
]

const Services = () => {
    const [openIndex, setOpenIndex] = useState(null)

    const toggleCard = (index) => {
        setOpenIndex(openIndex === index ? null : index)
    }

    return (
        <div id="services" className="services-container1">
            <div id="services-scroll" className="services-container">
                <h2>Услуги</h2>

                {servicesData.map((service, index) => (
                    <div
                        key={index}
                        className={`service-card ${openIndex === index ? 'active' : ''}`}
                    >
                        <div
                            className="service-header"
                            onClick={() => toggleCard(index)}
                        >
                            <h3>{service.title}</h3>
                            <span className={`arrow ${openIndex === index ? 'open' : ''}`}>
                ▼
              </span>
                        </div>

                        <AnimatePresence>
                            {openIndex === index && service.details.length > 0 && (
                                <motion.div
                                    className="service-details-wrapper"
                                    initial={{height: 0, opacity: 0}}
                                    animate={{height: 'auto', opacity: 1}}
                                    exit={{height: 0, opacity: 0}}
                                    transition={{duration: 0.4, ease: 'easeInOut'}}
                                >
                                    <ul className="service-details">
                                        {service.details.map((item, i) => (
                                            <li key={i}>{item}</li>
                                        ))}
                                    </ul>
                                </motion.div>
                            )}
                        </AnimatePresence>
                    </div>
                ))}
            </div>
        </div>
    )
}

export default Services
